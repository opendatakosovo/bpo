!function(a){"object"==typeof module&&module.exports?module.exports=a:a(Highcharts)}(function(a){!function(a){var b=a.Axis,c=a.each,d=a.pick;a=a.wrap,a(b.prototype,"getSeriesExtremes",function(a){var e,f,h,b=this.isXAxis,g=[];b&&c(this.series,function(a,b){a.useMapGeometry&&(g[b]=a.xData,a.xData=[])}),a.call(this),b&&(e=d(this.dataMin,Number.MAX_VALUE),f=d(this.dataMax,-Number.MAX_VALUE),c(this.series,function(a,b){a.useMapGeometry&&(e=Math.min(e,d(a.minX,e)),f=Math.max(f,d(a.maxX,e)),a.xData=g[b],h=!0)}),h&&(this.dataMin=e,this.dataMax=f))}),a(b.prototype,"setAxisTranslation",function(a){var e,b=this.chart,d=b.plotWidth/b.plotHeight,b=b.xAxis[0];a.call(this),"yAxis"===this.coll&&void 0!==b.transA&&c(this.series,function(a){a.preserveAspectRatio&&(e=!0)}),e&&(this.transA=b.transA=Math.min(this.transA,b.transA),a=d/((b.max-b.min)/(this.max-this.min)),a=1>a?this:b,d=(a.max-a.min)*a.transA,a.pixelPadding=a.len-d,a.minPixelPadding=a.pixelPadding/2,d=a.fixTo)&&(d=d[1]-a.toValue(d[0],!0),d*=a.transA,(Math.abs(d)>a.minPixelPadding||a.min===a.dataMin&&a.max===a.dataMax)&&(d=0),a.minPixelPadding-=d)}),a(b.prototype,"render",function(a){a.call(this),this.fixTo=null})}(a),function(a){var e,b=a.Axis,c=a.Chart,d=a.color,f=a.each,g=a.extend,h=a.isNumber,i=a.Legend,j=a.LegendSymbolMixin,k=a.noop,l=a.merge,m=a.pick,n=a.wrap;e=a.ColorAxis=function(){this.init.apply(this,arguments)},g(e.prototype,b.prototype),g(e.prototype,{defaultColorAxisOptions:{lineWidth:0,minPadding:0,maxPadding:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},width:.01,color:"#999999"},labels:{overflow:"justify"},minColor:"#e6ebf5",maxColor:"#003399",tickLength:5,showInLegend:!0},keepProps:["legendGroup","legendItem","legendSymbol"].concat(b.prototype.keepProps),init:function(a,c){var e,d="vertical"!==a.options.legend.layout;this.coll="colorAxis",e=l(this.defaultColorAxisOptions,{side:d?2:1,reversed:!d},c,{opposite:!d,showEmpty:!1,title:null}),b.prototype.init.call(this,a,e),c.dataClasses&&this.initDataClasses(c),this.initStops(c),this.horiz=d,this.zoomEnabled=!1,this.defaultLegendLength=200},tweenColors:function(a,b,c){var d;return b.rgba.length&&a.rgba.length?(a=a.rgba,b=b.rgba,d=1!==b[3]||1!==a[3],a=(d?"rgba(":"rgb(")+Math.round(b[0]+(a[0]-b[0])*(1-c))+","+Math.round(b[1]+(a[1]-b[1])*(1-c))+","+Math.round(b[2]+(a[2]-b[2])*(1-c))+(d?","+(b[3]+(a[3]-b[3])*(1-c)):"")+")"):a=b.input||"none",a},initDataClasses:function(a){var e,b=this,c=this.chart,g=0,h=c.options.chart.colorCount,i=this.options,j=a.dataClasses.length;this.dataClasses=e=[],this.legendItems=[],f(a.dataClasses,function(a,f){a=l(a),e.push(a),a.color||("category"===i.dataClassColor?(f=c.options.colors,h=f.length,a.color=f[g],a.colorIndex=g,g++,g===h&&(g=0)):a.color=b.tweenColors(d(i.minColor),d(i.maxColor),2>j?.5:f/(j-1)))})},initStops:function(a){this.stops=a.stops||[[0,this.options.minColor],[1,this.options.maxColor]],f(this.stops,function(a){a.color=d(a[1])})},setOptions:function(a){b.prototype.setOptions.call(this,a),this.options.crosshair=this.options.marker},setAxisSize:function(){var d,e,a=this.legendSymbol,b=this.chart,c=b.options.legend||{};a?(this.left=c=a.attr("x"),this.top=d=a.attr("y"),this.width=e=a.attr("width"),this.height=a=a.attr("height"),this.right=b.chartWidth-c-e,this.bottom=b.chartHeight-d-a,this.len=this.horiz?e:a,this.pos=this.horiz?c:d):this.len=(this.horiz?c.symbolWidth:c.symbolHeight)||this.defaultLegendLength},toColor:function(a,b){var d,e,g,h,c=this.stops,f=this.dataClasses;if(f){for(h=f.length;h--;)if(g=f[h],d=g.from,c=g.to,(void 0===d||a>=d)&&(void 0===c||a<=c)){e=g.color,b&&(b.dataClass=h,b.colorIndex=g.colorIndex);break}}else{for(this.isLog&&(a=this.val2lin(a)),a=1-(this.max-a)/(this.max-this.min||1),h=c.length;h--&&!(a>c[h][0]););d=c[h]||c[h+1],c=c[h+1]||d,a=1-(c[0]-a)/(c[0]-d[0]||1),e=this.tweenColors(d.color,c.color,a)}return e},getOffset:function(){var a=this.legendGroup,c=this.chart.axisOffset[this.side];a&&(this.axisParent=a,b.prototype.getOffset.call(this),this.added||(this.added=!0,this.labelLeft=0,this.labelRight=this.width),this.chart.axisOffset[this.side]=c)},setLegendColor:function(){var a,b=this.options,c=this.reversed;a=c?1:0,c=c?0:1,a=this.horiz?[a,0,c,0]:[0,c,0,a],this.legendColor={linearGradient:{x1:a[0],y1:a[1],x2:a[2],y2:a[3]},stops:b.stops||[[0,b.minColor],[1,b.maxColor]]}},drawLegendSymbol:function(a,b){var c=a.padding,d=a.options,e=this.horiz,f=m(d.symbolWidth,e?this.defaultLegendLength:12),g=m(d.symbolHeight,e?12:this.defaultLegendLength),h=m(d.labelPadding,e?16:30),d=m(d.itemDistance,10);this.setLegendColor(),b.legendSymbol=this.chart.renderer.rect(0,a.baseline-11,f,g).attr({zIndex:1}).add(b.legendGroup),this.legendItemWidth=f+c+(e?d:h),this.legendItemHeight=g+c+(e?h:0)},setState:k,visible:!0,setVisible:k,getSeriesExtremes:function(){var a;this.series.length&&(a=this.series[0],this.dataMin=a.valueMin,this.dataMax=a.valueMax)},drawCrosshair:function(a,c){var f,d=c&&c.plotX,e=c&&c.plotY,g=this.pos,h=this.len;c&&(f=this.toPixels(c[c.series.colorKey]),f<g?f=g-2:f>g+h&&(f=g+h+2),c.plotX=f,c.plotY=this.len-f,b.prototype.drawCrosshair.call(this,a,c),c.plotX=d,c.plotY=e,this.cross&&(this.cross.addClass("highcharts-coloraxis-marker").add(this.legendGroup),this.cross.attr({fill:this.crosshair.color})))},getPlotLinePath:function(a,c,d,e,f){return h(f)?this.horiz?["M",f-4,this.top-6,"L",f+4,this.top-6,f,this.top,"Z"]:["M",this.left,f,"L",this.left-6,f+6,this.left-6,f-6,"Z"]:b.prototype.getPlotLinePath.call(this,a,c,d,e)},update:function(a,c){var d=this.chart,e=d.legend;f(this.series,function(a){a.isDirtyData=!0}),a.dataClasses&&e.allItems&&(f(e.allItems,function(a){a.isDataClass&&a.legendGroup.destroy()}),d.isDirtyLegend=!0),d.options[this.coll]=l(this.userOptions,a),b.prototype.update.call(this,a,c),this.legendItem&&(this.setLegendColor(),e.colorizeItem(this,!0))},getDataClassLegendSymbols:function(){var l,b=this,c=this.chart,d=this.legendItems,e=c.options.legend,h=e.valueDecimals,i=e.valueSuffix||"";return d.length||f(this.dataClasses,function(e,m){var n=!0,o=e.from,p=e.to;l="",void 0===o?l="< ":void 0===p&&(l="> "),void 0!==o&&(l+=a.numberFormat(o,h)+i),void 0!==o&&void 0!==p&&(l+=" - "),void 0!==p&&(l+=a.numberFormat(p,h)+i),d.push(g({chart:c,name:l,options:{},drawLegendSymbol:j.drawRectangle,visible:!0,setState:k,isDataClass:!0,setVisible:function(){n=this.visible=!n,f(b.series,function(a){f(a.points,function(a){a.dataClass===m&&a.setVisible(n)})}),c.legend.colorizeItem(this,n)}},e))}),d},name:""}),f(["fill","stroke"],function(b){a.Fx.prototype[b+"Setter"]=function(){this.elem.attr(b,e.prototype.tweenColors(d(this.start),d(this.end),this.pos),null,!0)}}),n(c.prototype,"getAxes",function(a){var b=this.options.colorAxis;a.call(this),this.colorAxis=[],b&&new e(this,b)}),n(i.prototype,"getAllItems",function(a){var b=[],c=this.chart.colorAxis[0];return c&&c.options&&(c.options.showInLegend&&(c.options.dataClasses?b=b.concat(c.getDataClassLegendSymbols()):b.push(c)),f(c.series,function(a){a.options.showInLegend=!1})),b.concat(a.call(this))}),n(i.prototype,"colorizeItem",function(a,b,c){a.call(this,b,c),c&&b.legendColor&&b.legendSymbol.attr({fill:b.legendColor})})}(a),function(a){var b=a.defined,c=a.each,d=a.noop,e=a.seriesTypes;a.colorPointMixin={isValid:function(){return null!==this.value},setVisible:function(a){var b=this,d=a?"show":"hide";c(["graphic","dataLabel"],function(a){b[a]&&b[a][d]()})}},a.colorSeriesMixin={pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],optionalAxis:"colorAxis",trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:d,parallelArrays:["x","y","value"],colorKey:"value",pointAttribs:e.column.prototype.pointAttribs,translateColors:function(){var a=this,b=this.options.nullColor,d=this.colorAxis,e=this.colorKey;c(this.data,function(c){var f=c[e];(f=c.options.color||(c.isNull?b:d&&void 0!==f?d.toColor(f,c):c.color||a.color))&&(c.color=f)})},colorAttribs:function(a){var c={};return b(a.color)&&(c[this.colorProp||"fill"]=a.color),c}}}(a),function(a){function b(a){a&&(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)}var c=a.addEvent,d=a.Chart,e=a.doc,f=a.each,g=a.extend,h=a.merge,i=a.pick;a=a.wrap,g(d.prototype,{renderMapNavigation:function(){var f,j,k,l,m,a=this,d=this.options.mapNavigation,e=d.buttons,n=function(c){this.handler.call(a,c),b(c)};if(i(d.enableButtons,d.enabled)&&!a.renderer.forExport)for(f in a.mapNavButtons=[],e)e.hasOwnProperty(f)&&(k=h(d.buttonOptions,e[f]),j=k.theme,j.style=h(k.theme.style,k.style),m=(l=j.states)&&l.hover,l=l&&l.select,j=a.renderer.button(k.text,0,0,n,j,m,l,0,"zoomIn"===f?"topbutton":"bottombutton").addClass("highcharts-map-navigation").attr({width:k.width,height:k.height,title:a.options.lang[f],padding:k.padding,zIndex:5}).add(),j.handler=k.onclick,j.align(g(k,{width:j.width,height:2*j.height}),null,k.alignTo),c(j.element,"dblclick",b),a.mapNavButtons.push(j))},fitToBox:function(a,b){return f([["x","width"],["y","height"]],function(c){var d=c[0];c=c[1],a[d]+a[c]>b[d]+b[c]&&(a[c]>b[c]?(a[c]=b[c],a[d]=b[d]):a[d]=b[d]+b[c]-a[c]),a[c]>b[c]&&(a[c]=b[c]),a[d]<b[d]&&(a[d]=b[d])}),a},mapZoom:function(a,b,c,d,e){var f=this.xAxis[0],g=f.max-f.min,h=i(b,f.min+g/2),j=g*a,g=this.yAxis[0],k=g.max-g.min,l=i(c,g.min+k/2),k=k*a,h=this.fitToBox({x:h-j*(d?(d-f.pos)/f.len:.5),y:l-k*(e?(e-g.pos)/g.len:.5),width:j,height:k},{x:f.dataMin,y:g.dataMin,width:f.dataMax-f.dataMin,height:g.dataMax-g.dataMin}),j=h.x<=f.dataMin&&h.width>=f.dataMax-f.dataMin&&h.y<=g.dataMin&&h.height>=g.dataMax-g.dataMin;d&&(f.fixTo=[d-f.pos,b]),e&&(g.fixTo=[e-g.pos,c]),void 0===a||j?(f.setExtremes(void 0,void 0,!1),g.setExtremes(void 0,void 0,!1)):(f.setExtremes(h.x,h.x+h.width,!1),g.setExtremes(h.y,h.y+h.height,!1)),this.redraw()}}),a(d.prototype,"render",function(a){var d=this,f=d.options.mapNavigation;d.renderMapNavigation(),a.call(d),(i(f.enableDoubleClickZoom,f.enabled)||f.enableDoubleClickZoomTo)&&c(d.container,"dblclick",function(a){d.pointer.onContainerDblClick(a)}),i(f.enableMouseWheelZoom,f.enabled)&&c(d.container,void 0===e.onmousewheel?"DOMMouseScroll":"mousewheel",function(a){return d.pointer.onContainerMouseWheel(a),b(a),!1})})}(a),function(a){var b=a.extend,c=a.pick,d=a.Pointer;a=a.wrap,b(d.prototype,{onContainerDblClick:function(a){var b=this.chart;a=this.normalize(a),b.options.mapNavigation.enableDoubleClickZoomTo?b.pointer.inClass(a.target,"highcharts-tracker")&&b.hoverPoint&&b.hoverPoint.zoomTo():b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)&&b.mapZoom(.5,b.xAxis[0].toValue(a.chartX),b.yAxis[0].toValue(a.chartY),a.chartX,a.chartY)},onContainerMouseWheel:function(a){var c,b=this.chart;a=this.normalize(a),c=a.detail||-(a.wheelDelta/120),b.isInsidePlot(a.chartX-b.plotLeft,a.chartY-b.plotTop)&&b.mapZoom(Math.pow(b.options.mapNavigation.mouseWheelSensitivity,c),b.xAxis[0].toValue(a.chartX),b.yAxis[0].toValue(a.chartY),a.chartX,a.chartY)}}),a(d.prototype,"zoomOption",function(a){var b=this.chart.options.mapNavigation;c(b.enableTouchZoom,b.enabled)&&(this.chart.options.chart.pinchType="xy"),a.apply(this,[].slice.call(arguments,1))}),a(d.prototype,"pinchTranslate",function(a,b,c,d,e,f,g){a.call(this,b,c,d,e,f,g),"map"===this.chart.options.chart.type&&this.hasZoom&&(a=d.scaleX>d.scaleY,this.pinchTranslateDirection(!a,b,c,d,e,f,g,a?d.scaleX:d.scaleY))})}(a),function(a){var b=a.color,c=a.ColorAxis,d=a.colorPointMixin,e=a.each,f=a.extend,g=a.isNumber,h=a.map,i=a.merge,j=a.noop,k=a.pick,l=a.isArray,m=a.Point,n=a.Series,o=a.seriesType,p=a.seriesTypes,q=a.splat,r=void 0!==a.doc.documentElement.style.vectorEffect;o("map","scatter",{allAreas:!0,animation:!1,nullColor:"#f7f7f7",borderColor:"#cccccc",borderWidth:1,marker:null,stickyTracking:!1,joinBy:"hc-key",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},turboThreshold:0,tooltip:{followPointer:!0,pointFormat:"{point.name}: {point.value}<br/>"},states:{normal:{animation:!0},hover:{brightness:.2,halo:null},select:{color:"#cccccc"}}},i(a.colorSeriesMixin,{type:"map",supportsDrilldown:!0,getExtremesFromAll:!0,useMapGeometry:!0,forceDL:!0,searchPoint:j,directTouch:!0,preserveAspectRatio:!0,pointArrayMap:["value"],getBox:function(b){var n,c=Number.MAX_VALUE,d=-c,f=c,h=-c,i=c,j=c,l=this.xAxis,m=this.yAxis;e(b||[],function(b){if(b.path){"string"==typeof b.path&&(b.path=a.splitPath(b.path));var e=b.path||[],l=e.length,m=!1,o=-c,p=c,q=-c,r=c,s=b.properties;if(!b._foundBox){for(;l--;)g(e[l])&&(m?(o=Math.max(o,e[l]),p=Math.min(p,e[l])):(q=Math.max(q,e[l]),r=Math.min(r,e[l])),m=!m);b._midX=p+(o-p)*(b.middleX||s&&s["hc-middle-x"]||.5),b._midY=r+(q-r)*(b.middleY||s&&s["hc-middle-y"]||.5),b._maxX=o,b._minX=p,b._maxY=q,b._minY=r,b.labelrank=k(b.labelrank,(o-p)*(q-r)),b._foundBox=!0}d=Math.max(d,b._maxX),f=Math.min(f,b._minX),h=Math.max(h,b._maxY),i=Math.min(i,b._minY),j=Math.min(b._maxX-b._minX,b._maxY-b._minY,j),n=!0}}),n&&(this.minY=Math.min(i,k(this.minY,c)),this.maxY=Math.max(h,k(this.maxY,-c)),this.minX=Math.min(f,k(this.minX,c)),this.maxX=Math.max(d,k(this.maxX,-c)),l&&void 0===l.options.minRange&&(l.minRange=Math.min(5*j,(this.maxX-this.minX)/5,l.minRange||c)),m&&void 0===m.options.minRange&&(m.minRange=Math.min(5*j,(this.maxY-this.minY)/5,m.minRange||c)))},getExtremes:function(){n.prototype.getExtremes.call(this,this.valueData),this.chart.hasRendered&&this.isDirtyData&&this.getBox(this.options.data),this.valueMin=this.dataMin,this.valueMax=this.dataMax,this.dataMin=this.minY,this.dataMax=this.maxY},translatePath:function(a){var j,b=!1,c=this.xAxis,d=this.yAxis,e=c.min,f=c.transA,c=c.minPixelPadding,h=d.min,i=d.transA,d=d.minPixelPadding,k=[];if(a)for(j=a.length;j--;)g(a[j])?(k[j]=b?(a[j]-e)*f+c:(a[j]-h)*i+d,b=!b):k[j]=a[j];return k},setData:function(b,c,d,f){var v,j=this.options,k=this.chart.options.chart,m=k&&k.map,o=j.mapData,p=j.joinBy,r=null===p,s=j.keys||this.pointArrayMap,t=[],u={},w=this.chart.mapTransforms;if(!o&&m&&(o="string"==typeof m?a.maps[m]:m),r&&(p="_i"),p=this.joinBy=q(p),p[1]||(p[1]=p[0]),b&&e(b,function(a,c){var d=0;if(g(a))b[c]={value:a};else if(l(a)){b[c]={},!j.keys&&a.length>s.length&&"string"==typeof a[0]&&(b[c]["hc-key"]=a[0],++d);for(var e=0;e<s.length;++e,++d)s[e]&&(b[c][s[e]]=a[d])}r&&(b[c]._i=c)}),this.getBox(b),this.chart.mapTransforms=w=k&&k.mapTransforms||o&&o["hc-transform"]||w)for(v in w)w.hasOwnProperty(v)&&v.rotation&&(v.cosAngle=Math.cos(v.rotation),v.sinAngle=Math.sin(v.rotation));if(o){for("FeatureCollection"===o.type&&(this.mapTitle=o.title,o=a.geojson(o,this.type,this)),this.mapData=o,this.mapMap={},v=0;v<o.length;v++)k=o[v],m=k.properties,k._i=v,p[0]&&m&&m[p[0]]&&(k[p[0]]=m[p[0]]),u[k[p[0]]]=k;this.mapMap=u,b&&p[1]&&e(b,function(a){u[a[p[1]]]&&t.push(u[a[p[1]]])}),j.allAreas?(this.getBox(o),b=b||[],p[1]&&e(b,function(a){t.push(a[p[1]])}),t="|"+h(t,function(a){return a&&a[p[0]]}).join("|")+"|",e(o,function(a){p[0]&&-1!==t.indexOf("|"+a[p[0]]+"|")||(b.push(i(a,{value:null})),f=!1)})):this.getBox(t)}n.prototype.setData.call(this,b,c,d,f)},drawGraph:j,drawDataLabels:j,doFullTranslate:function(){return this.isDirtyData||this.chart.isResizing||this.chart.renderer.isVML||!this.baseTrans},translate:function(){var a=this,b=a.xAxis,c=a.yAxis,d=a.doFullTranslate();a.generatePoints(),e(a.data,function(e){e.plotX=b.toPixels(e._midX,!0),e.plotY=c.toPixels(e._midY,!0),d&&(e.shapeType="path",e.shapeArgs={d:a.translatePath(e.path)})}),a.translateColors()},pointAttribs:function(a,b){return b=p.column.prototype.pointAttribs.call(this,a,b),a.isFading&&delete b.fill,r?b["vector-effect"]="non-scaling-stroke":b["stroke-width"]="inherit",b},drawPoints:function(){var h,i,j,k,m,n,o,q,s,a=this,b=a.xAxis,c=a.yAxis,d=a.group,f=a.chart,g=f.renderer,l=this.baseTrans;a.transformGroup||(a.transformGroup=g.g().attr({scaleX:1,scaleY:1}).add(d),a.transformGroup.survive=!0),a.doFullTranslate()?(f.hasRendered&&e(a.points,function(b){b.shapeArgs&&(b.shapeArgs.fill=a.pointAttribs(b,b.state).fill)}),a.group=a.transformGroup,p.column.prototype.drawPoints.apply(a),a.group=d,e(a.points,function(a){a.graphic&&(a.name&&a.graphic.addClass("highcharts-name-"+a.name.replace(/ /g,"-").toLowerCase()),a.properties&&a.properties["hc-key"]&&a.graphic.addClass("highcharts-key-"+a.properties["hc-key"].toLowerCase()))}),this.baseTrans={originX:b.min-b.minPixelPadding/b.transA,originY:c.min-c.minPixelPadding/c.transA+(c.reversed?0:c.len/c.transA),transAX:b.transA,transAY:c.transA},this.transformGroup.animate({translateX:0,translateY:0,scaleX:1,scaleY:1})):(h=b.transA/l.transAX,i=c.transA/l.transAY,j=b.toPixels(l.originX,!0),k=c.toPixels(l.originY,!0),.99<h&&1.01>h&&.99<i&&1.01>i&&(i=h=1,j=Math.round(j),k=Math.round(k)),m=this.transformGroup,f.renderer.globalAnimation?(n=m.attr("translateX"),o=m.attr("translateY"),q=m.attr("scaleX"),s=m.attr("scaleY"),m.attr({animator:0}).animate({animator:1},{step:function(a,b){m.attr({translateX:n+(j-n)*b.pos,translateY:o+(k-o)*b.pos,scaleX:q+(h-q)*b.pos,scaleY:s+(i-s)*b.pos})}})):m.attr({translateX:j,translateY:k,scaleX:h,scaleY:i})),r||a.group.element.setAttribute("stroke-width",a.options[a.pointAttrToOptions&&a.pointAttrToOptions["stroke-width"]||"borderWidth"]/(h||1)),this.drawMapDataLabels()},drawMapDataLabels:function(){n.prototype.drawDataLabels.call(this),this.dataLabelsGroup&&this.dataLabelsGroup.clip(this.chart.clipRect)},render:function(){var a=this,b=n.prototype.render;a.chart.renderer.isVML&&3e3<a.data.length?setTimeout(function(){b.call(a)}):b.call(a)},animate:function(a){var b=this.options.animation,c=this.group,d=this.xAxis,e=this.yAxis,f=d.pos,g=e.pos;this.chart.renderer.isSVG&&(!0===b&&(b={duration:1e3}),a?c.attr({translateX:f+d.len/2,translateY:g+e.len/2,scaleX:.001,scaleY:.001}):(c.animate({translateX:f,translateY:g,scaleX:1,scaleY:1},b),this.animate=null))},animateDrilldown:function(a){var b=this.chart.plotBox,c=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],d=c.bBox,f=this.chart.options.drilldown.animation;a||(a=Math.min(d.width/b.width,d.height/b.height),c.shapeArgs={scaleX:a,scaleY:a,translateX:d.x,translateY:d.y},e(this.points,function(a){a.graphic&&a.graphic.attr(c.shapeArgs).animate({scaleX:1,scaleY:1,translateX:0,translateY:0},f)}),this.animate=null)},drawLegendSymbol:a.LegendSymbolMixin.drawRectangle,animateDrillupFrom:function(a){p.column.prototype.animateDrillupFrom.call(this,a)},animateDrillupTo:function(a){p.column.prototype.animateDrillupTo.call(this,a)}}),f({applyOptions:function(a,b){a=m.prototype.applyOptions.call(this,a,b),b=this.series;var c=b.joinBy;return b.mapData&&((c=void 0!==a[c[1]]&&b.mapMap[a[c[1]]])?(b.xyFromShape&&(a.x=c._midX,a.y=c._midY),f(a,c)):a.value=a.value||null),a},onMouseOver:function(a){clearTimeout(this.colorInterval),null!==this.value?m.prototype.onMouseOver.call(this,a):this.series.onMouseOut(a)},onMouseOut:function(){var a=this,d=+new Date,e=b(this.series.pointAttribs(a).fill),f=b(this.series.pointAttribs(a,"hover").fill),g=a.series.options.states.normal.animation,h=g&&(g.duration||500);h&&4===e.rgba.length&&4===f.rgba.length&&"select"!==a.state&&(clearTimeout(a.colorInterval),a.colorInterval=setInterval(function(){var b=(new Date-d)/h,g=a.graphic;1<b&&(b=1),g&&g.attr("fill",c.prototype.tweenColors.call(0,f,e,b)),1<=b&&clearTimeout(a.colorInterval)},13),a.isFading=!0),m.prototype.onMouseOut.call(a),a.isFading=null},zoomTo:function(){var a=this.series;a.xAxis.setExtremes(this._minX,this._maxX,!1),a.yAxis.setExtremes(this._minY,this._maxY,!1),a.chart.redraw()}},d))}(a),function(a){var b=a.seriesType,c=a.seriesTypes;b("mapline","map",{lineWidth:1,fillColor:"none"},{type:"mapline",colorProp:"stroke",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointAttribs:function(a,b){return a=c.map.prototype.pointAttribs.call(this,a,b),a.fill=this.options.fillColor,a},drawLegendSymbol:c.line.prototype.drawLegendSymbol})}(a),function(a){var b=a.merge,c=a.Point;(a=a.seriesType)("mappoint","scatter",{dataLabels:{enabled:!0,formatter:function(){return this.point.name},crop:!1,defer:!1,overflow:!1,style:{color:"#000000"}}},{type:"mappoint",forceDL:!0},{applyOptions:function(a,d){return a=void 0!==a.lat&&void 0!==a.lon?b(a,this.series.chart.fromLatLonToPoint(a)):a,c.prototype.applyOptions.call(this,a,d)}})}(a),function(a){var b=a.merge,c=a.Point,d=a.seriesType,e=a.seriesTypes;e.bubble&&d("mapbubble","bubble",{animationLimit:500,tooltip:{pointFormat:"{point.name}: {point.z}"}},{xyFromShape:!0,type:"mapbubble",pointArrayMap:["z"],getMapData:e.map.prototype.getMapData,getBox:e.map.prototype.getBox,setData:e.map.prototype.setData},{applyOptions:function(a,d){return a&&void 0!==a.lat&&void 0!==a.lon?c.prototype.applyOptions.call(this,b(a,this.series.chart.fromLatLonToPoint(a)),d):e.map.prototype.pointClass.prototype.applyOptions.call(this,a,d)},ttBelow:!1})}(a),function(a){var b=a.colorPointMixin,c=a.each,d=a.merge,e=a.noop,f=a.pick,g=a.Series,h=a.seriesType,i=a.seriesTypes;h("heatmap","scatter",{animation:!1,borderWidth:0,nullColor:"#f7f7f7",dataLabels:{formatter:function(){return this.point.value},inside:!0,verticalAlign:"middle",crop:!1,overflow:!1,padding:0},marker:null,pointRange:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{normal:{animation:!0},hover:{halo:!1,brightness:.2}}},d(a.colorSeriesMixin,{pointArrayMap:["y","value"],hasPointSpecificOptions:!0,supportsDrilldown:!0,getExtremesFromAll:!0,directTouch:!0,init:function(){var a;i.scatter.prototype.init.apply(this,arguments),a=this.options,a.pointRange=f(a.pointRange,a.colsize||1),this.yAxis.axisPointRange=a.rowsize||1},translate:function(){var a=this.options,b=this.xAxis,d=this.yAxis,e=function(a,b,c){return Math.min(Math.max(b,a),c)};this.generatePoints(),c(this.points,function(c){var f=(a.colsize||1)/2,g=(a.rowsize||1)/2,h=e(Math.round(b.len-b.translate(c.x-f,0,1,0,1)),-b.len,2*b.len),f=e(Math.round(b.len-b.translate(c.x+f,0,1,0,1)),-b.len,2*b.len),i=e(Math.round(d.translate(c.y-g,0,1,0,1)),-d.len,2*d.len),g=e(Math.round(d.translate(c.y+g,0,1,0,1)),-d.len,2*d.len);c.plotX=c.clientX=(h+f)/2,c.plotY=(i+g)/2,c.shapeType="rect",c.shapeArgs={x:Math.min(h,f),y:Math.min(i,g),width:Math.abs(f-h),height:Math.abs(g-i)}}),this.translateColors()},drawPoints:function(){i.column.prototype.drawPoints.call(this),c(this.points,function(a){a.graphic.attr(this.colorAttribs(a,a.state))},this)},animate:e,getBox:e,drawLegendSymbol:a.LegendSymbolMixin.drawRectangle,alignDataLabel:i.column.prototype.alignDataLabel,getExtremes:function(){g.prototype.getExtremes.call(this,this.valueData),this.valueMin=this.dataMin,this.valueMax=this.dataMax,g.prototype.getExtremes.call(this)}}),b)}(a),function(a){function b(a,b){var c,d,e,f=!1,g=a.x,h=a.y;for(a=0,c=b.length-1;a<b.length;c=a++)d=b[a][1]>h,e=b[c][1]>h,d!==e&&g<(b[c][0]-b[a][0])*(h-b[a][1])/(b[c][1]-b[a][1])+b[a][0]&&(f=!f);return f}var c=a.Chart,d=a.each,e=a.extend,f=a.error,g=a.format,h=a.merge,i=a.win,j=a.wrap;c.prototype.transformFromLatLon=function(a,b){if(void 0===i.proj4)return f(21),{x:0,y:null};a=i.proj4(b.crs,[a.lon,a.lat]);var c=b.cosAngle||b.rotation&&Math.cos(b.rotation),d=b.sinAngle||b.rotation&&Math.sin(b.rotation);return a=b.rotation?[a[0]*c+a[1]*d,-a[0]*d+a[1]*c]:a,{x:((a[0]-(b.xoffset||0))*(b.scale||1)+(b.xpan||0))*(b.jsonres||1)+(b.jsonmarginX||0),y:(((b.yoffset||0)-a[1])*(b.scale||1)+(b.ypan||0))*(b.jsonres||1)-(b.jsonmarginY||0)}},c.prototype.transformToLatLon=function(a,b){if(void 0!==i.proj4){a={x:((a.x-(b.jsonmarginX||0))/(b.jsonres||1)-(b.xpan||0))/(b.scale||1)+(b.xoffset||0),y:((-a.y-(b.jsonmarginY||0))/(b.jsonres||1)+(b.ypan||0))/(b.scale||1)+(b.yoffset||0)};var c=b.cosAngle||b.rotation&&Math.cos(b.rotation),d=b.sinAngle||b.rotation&&Math.sin(b.rotation);return b=i.proj4(b.crs,"WGS84",b.rotation?{x:a.x*c+a.y*-d,y:a.x*d+a.y*c}:a),{lat:b.y,lon:b.x}}f(21)},c.prototype.fromPointToLatLon=function(a){var d,c=this.mapTransforms;if(c){for(d in c)if(c.hasOwnProperty(d)&&c[d].hitZone&&b({x:a.x,y:-a.y},c[d].hitZone.coordinates[0]))return this.transformToLatLon(a,c[d]);return this.transformToLatLon(a,c.default)}f(22)},c.prototype.fromLatLonToPoint=function(a){var d,e,c=this.mapTransforms;if(!c)return f(22),{x:0,y:null};for(d in c)if(c.hasOwnProperty(d)&&c[d].hitZone&&(e=this.transformFromLatLon(a,c[d]),b({x:e.x,y:-e.y},c[d].hitZone.coordinates[0])))return e;return this.transformFromLatLon(a,c.default)},a.geojson=function(a,b,c){var f=[],h=[],i=function(a){var b,c=a.length;for(h.push("M"),b=0;b<c;b++)1===b&&h.push("L"),h.push(a[b][0],-a[b][1])};return b=b||"map",d(a.features,function(a){var c=a.geometry,g=c.type,c=c.coordinates;a=a.properties;var j;h=[],"map"===b||"mapbubble"===b?("Polygon"===g?(d(c,i),h.push("Z")):"MultiPolygon"===g&&(d(c,function(a){d(a,i)}),h.push("Z")),h.length&&(j={path:h})):"mapline"===b?("LineString"===g?i(c):"MultiLineString"===g&&d(c,i),h.length&&(j={path:h})):"mappoint"===b&&"Point"===g&&(j={x:c[0],y:-c[1]}),j&&f.push(e(j,{name:a.name||a.NAME,properties:a}))}),c&&a.copyrightShort&&(c.chart.mapCredits=g(c.chart.options.credits.mapText,{geojson:a}),c.chart.mapCreditsFull=g(c.chart.options.credits.mapTextFull,{geojson:a})),f},j(c.prototype,"addCredits",function(a,b){b=h(!0,this.options.credits,b),this.mapCredits&&(b.href=null),a.call(this,b),this.credits&&this.mapCreditsFull&&this.credits.attr({title:this.mapCreditsFull})})}(a),function(a){function b(a,b,c,d,e,f,g,h){return["M",a+e,b,"L",a+c-f,b,"C",a+c-f/2,b,a+c,b+f/2,a+c,b+f,"L",a+c,b+d-g,"C",a+c,b+d-g/2,a+c-g/2,b+d,a+c-g,b+d,"L",a+h,b+d,"C",a+h/2,b+d,a,b+d-h/2,a,b+d-h,"L",a,b+e,"C",a,b+e/2,a+e/2,b,a+e,b,"Z"]}var c=a.Chart,d=a.defaultOptions,e=a.each,f=a.extend,g=a.merge,h=a.pick,i=a.Renderer,j=a.SVGRenderer,k=a.VMLRenderer;f(d.lang,{zoomIn:"Zoom in",zoomOut:"Zoom out"}),d.mapNavigation={buttonOptions:{alignTo:"plotBox",align:"left",verticalAlign:"top",x:0,width:18,height:18,padding:5,style:{fontSize:"15px",fontWeight:"bold"},theme:{"stroke-width":1,"text-align":"center"}},buttons:{zoomIn:{onclick:function(){this.mapZoom(.5)},text:"+",y:0},zoomOut:{onclick:function(){this.mapZoom(2)},text:"-",y:28}},mouseWheelSensitivity:1.1},a.splitPath=function(a){var b;for(a=a.replace(/([A-Za-z])/g," $1 "),a=a.replace(/^\s*/,"").replace(/\s*$/,""),a=a.split(/[ ,]+/),b=0;b<a.length;b++)/[a-zA-Z]/.test(a[b])||(a[b]=parseFloat(a[b]));return a},a.maps={},j.prototype.symbols.topbutton=function(a,c,d,e,f){return b(a-1,c-1,d,e,f.r,f.r,0,0)},j.prototype.symbols.bottombutton=function(a,c,d,e,f){return b(a-1,c-1,d,e,0,0,f.r,f.r)},i===k&&e(["topbutton","bottombutton"],function(a){k.prototype.symbols[a]=j.prototype.symbols[a]}),a.Map=a.mapChart=function(b,d,e){var k,f="string"==typeof b||b.nodeName,i=arguments[f?1:0],j={endOnTick:!1,visible:!1,minPadding:0,maxPadding:0,startOnTick:!1},l=a.getOptions().credits;return k=i.series,i.series=null,i=g({chart:{panning:"xy",type:"map"},credits:{mapText:h(l.mapText,' Â© <a href="{geojson.copyrightUrl}">{geojson.copyrightShort}</a>'),mapTextFull:h(l.mapTextFull,"{geojson.copyright}")},tooltip:{followTouchMove:!1},xAxis:j,yAxis:g(j,{reversed:!0})},i,{chart:{inverted:!1,alignTicks:!1}}),i.series=k,f?new c(b,i,e):new c(i,d)}}(a)});